{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Modal/Modal.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","services/imgAPI.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","className","s","name","SearchForm","type","SearchForm_input","autoComplete","autoFocus","placeholder","SearchForm_button","ImageGalleryItem","this","props","webformatURL","tags","largeImageURL","openModal","onClick","src","alt","ImageGalleryItem_image","Component","Button","modalPortal","document","querySelector","Modal","url","closeModal","useEffect","window","addEventListener","removeEventListener","createPortal","backdrop","api","fetchImg","search","page","fetch","then","response","json","ImageGallery","hideLoader","useState","setPage","modalUrl","setModalUrl","modalIsOpen","setModalIsOpen","setResponse","scroll","scrollTo","top","documentElement","scrollHeight","behavior","evt","target","nodeName","dataset","big_image","list","fetchImagesByName","errorMessage","data","hits","length","Promise","reject","Error","catch","error","alert","message","finally","map","item","code","Loaders","color","height","width","App","setSearch","loaderAreShown","setLoaderAreShown","searchCheck","inputValue","value","preventDefault","trim","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0d4749c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__4sfAd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1etmf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1NWgg\",\"Modal\":\"Modal_Modal__3dDsq\"};","import React, { useState } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nexport default function Searchbar({ onSubmit }) {\r\n  return (\r\n    <>\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={onSubmit} name=\"search\" className={s.SearchForm}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"search\"\r\n            className={s.SearchForm_input}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          ></input>\r\n          <button type=\"submit\" className={s.SearchForm_button}></button>\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  render() {\r\n    const { webformatURL, tags, largeImageURL, openModal } = this.props;\r\n    return (\r\n      <li key={webformatURL} className={s.ImageGalleryItem}>\r\n        <a>\r\n          <img\r\n            onClick={openModal}\r\n            src={webformatURL}\r\n            alt={tags}\r\n            data-big_image={largeImageURL}\r\n            className={s.ImageGalleryItem_image}\r\n          />\r\n        </a>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  search: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <>\r\n      <button\r\n        type=\"button\"\r\n        className={s.Button}\r\n        onClick={onClick}\r\n      >\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nconst modalPortal = document.querySelector(\"#modal-root\");\r\n// export default function Modal({ url, closeModal }) {\r\n//   useEffect(() => {\r\n//     const backdropRef = document.querySelector(\".backdrop\");\r\n//     backdropRef.addEventListener(\"click\", closeModal());\r\n//     window.addEventListener(\"keydown\", closeModal());\r\n//     return () => {\r\n//       backdropRef.removeEventListener(\"click\", closeModal());\r\n//       window.removeEventListener(\"keydown\", closeModal());\r\n//     };\r\n//   }, []);\r\n//   return createPortal(\r\n//     <div className={s.backdrop}>\r\n//       <img src={url} alt=\"\" />\r\n//     </div>,\r\n//     modalPortal\r\n//   );\r\n// }\r\nexport default function Modal({ url, closeModal }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", closeModal);\r\n    window.addEventListener(\"keydown\", closeModal);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"click\", closeModal);\r\n      window.removeEventListener(\"keydown\", closeModal);\r\n    };\r\n  }, []);\r\n  return createPortal(\r\n    <div className={s.backdrop}>\r\n      <img src={url} alt=\"\" />\r\n    </div>,\r\n    modalPortal\r\n  );\r\n}\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n};\r\n","function fetchImg(search, page) {\r\n  const API_KEY = '21885958-186cb9f8de90f78c5ca194f62';\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    return response.json();\r\n  });\r\n}\r\nconst api = { fetchImg };\r\nexport default api;\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport api from \"../../services/imgAPI\";\r\nexport default function ImageGallery({ search, hideLoader }) {\r\n  const [page, setPage] = useState(1);\r\n  const [modalUrl, setModalUrl] = useState(\"\");\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const [response, setResponse] = useState([]);\r\n\r\n  let mainPage = page;\r\n  const scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n  const openModal = (evt) => {\r\n    if (evt.target.nodeName === \"IMG\") {\r\n      setModalIsOpen(true);\r\n      setModalUrl(evt.target.dataset.big_image);\r\n    }\r\n  };\r\n  const closeModal = (evt) => {\r\n    if (evt.target.nodeName === \"DIV\" || evt.code === \"Escape\") {\r\n      setModalIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const list = document.querySelector(\"ul\");\r\n    list.addEventListener(\"click\", openModal);\r\n    return () => {\r\n      list.removeEventListener(\"click\", openModal);\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    mainPage = 1;\r\n    setResponse([]);\r\n    fetchImagesByName();\r\n  }, [search]);\r\n  const fetchImagesByName = () => {\r\n    const errorMessage = `Изображений по ключевому слову ${search} не найдено`;\r\n    return api\r\n      .fetchImg(search, page)\r\n      .then((data) => {\r\n        if (data.hits.length === 0) {\r\n          return Promise.reject(new Error(errorMessage));\r\n        }\r\n        return setResponse((response) => [...response, ...data.hits]);\r\n      })\r\n      .catch((error) => alert(error.message))\r\n      .finally(() => {\r\n        hideLoader();\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <ul className={s.ImageGallery}>\r\n          {response.map((item) => {\r\n            const { webformatURL, tags, largeImageURL } = item;\r\n            return (\r\n              <ImageGalleryItem\r\n                key={webformatURL}\r\n                webformatURL={webformatURL}\r\n                tags={tags}\r\n                largeImageURL={largeImageURL}\r\n                openModal={(evt) => openModal(evt)}\r\n                hideLoader={hideLoader}\r\n                search={search}\r\n                setPage={setPage}\r\n                page={page}\r\n                scroll={scroll}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n      <Button onClick={() => setPage((page) => page + 1)} />\r\n      {modalIsOpen && (\r\n        <Modal url={modalUrl} closeModal={(evt) => closeModal(evt)} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  hideLoader: PropTypes.func.isRequired,\r\n  search: PropTypes.string.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\n\r\nexport default function Loaders() {\r\n  return (\r\n    <div>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#18166b\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport React, { useState } from \"react\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Loaders from \"./Components/Loader/Loader\";\nexport default function App() {\n  const [search, setSearch] = useState(\"\");\n  const [loaderAreShown, setLoaderAreShown] = useState(false);\n  const handleSubmit = (evt) => {\n    const inputValue = evt.target[0].value;\n    setLoaderAreShown(true);\n    evt.preventDefault();\n    if (inputValue.trim() === \"\") {\n      alert(\"Введите ключевое слово для поиска картинок\");\n      return;\n    }\n    setSearch(inputValue);\n    evt.target[0].value = \"\";\n  };\n  const hideLoader = () => {\n    setLoaderAreShown(false);\n  };\n  const showLoader = () => {\n    setLoaderAreShown(true);\n  };\n  const searchCheck = search === \"\";\n  return (\n    <>\n      <div>\n        <Searchbar onSubmit={handleSubmit} />\n        {loaderAreShown && <Loaders />}\n        {!searchCheck && (\n          <ImageGallery search={search} hideLoader={hideLoader} />\n        )}\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1D1RX\",\"SearchForm\":\"Searchbar_SearchForm__3G_ul\",\"SearchForm_button\":\"Searchbar_SearchForm_button__TXqCT\",\"SearchForm_button-label\":\"Searchbar_SearchForm_button-label__vHg0s\",\"SearchForm_input\":\"Searchbar_SearchForm_input__dDbKp\"};"],"sourceRoot":""}